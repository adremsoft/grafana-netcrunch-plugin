{"version":3,"sources":["../../../src/datasource/directives/ncFocus.directive.js"],"names":["angular","directivesModule","PRIVATE_PROPERTIES","timeout","Symbol","parse","NC_FOCUS_DI","NcFocus","$timeout","$parse","restrict","scope","$scope","$element","$attributes","self","focusMeModel","ncFocus","focusChild","ncFocusChild","$watch","value","Number","isInteger","children","focus","assign","module","directive"],"mappings":"+VAQOA,O,qCACEC,gB,SAAAA,gB,kgBAGPC,kB,CAAqB,CACnBC,QAASC,OAAO,SAAP,CADU,CAEnBC,MAAOD,OAAO,OAAP,CAFY,C,CAIrBE,W,uBAEIC,O,YAEJ,iBAAYC,CAAZ,CAAsBC,CAAtB,CAA8B,+BAC5B,KAAKC,QAAL,CAAgB,GADY,CAE5B,KAAKC,KAAL,GAF4B,CAG5B,KAAKT,mBAAmBC,OAAxB,EAAmCK,CAHP,CAI5B,KAAKN,mBAAmBG,KAAxB,EAAiCI,CAClC,C,6DAEIG,C,CAAQC,C,CAAUC,C,CAAa,CAClC,GACEC,GAAO,IADT,CAEEC,EAAeD,EAAKb,mBAAmBG,KAAxB,EAA+BS,EAAYG,OAA3C,CAFjB,CAGEC,EAA2C,IAA5B,IAAYC,YAAb,EAC8B,EAA7B,KAAYA,YADd,EAC6CL,EAAYK,YADzD,CACyE,IAJxF,CAMAP,EAAOQ,MAAP,CAAcN,EAAYG,OAA1B,CAAmC,SAACI,CAAD,CAAW,CACxC,MADwC,EAE1CN,EAAKb,mBAAmBC,OAAxB,EAAiC,UAAM,CACjCmB,OAAOC,SAAP,CAAiBL,CAAjB,CADiC,CAEnCL,EAAS,CAAT,EAAYW,QAAZ,CAAqBN,CAArB,EAAiCO,KAAjC,EAFmC,CAInCZ,EAAS,CAAT,EAAYY,KAAZ,EAJmC,CAMrCT,EAAaU,MAAb,CAAoBd,CAApB,IACD,CAPD,CAOG,CAPH,CASH,CAXD,CAYD,C,eAGHZ,QACG2B,MADH,CACU1B,gBADV,EAEK2B,SAFL,CAEe,SAFf,WAE8BtB,WAF9B,EAE2C,SAACE,CAAD,CAAWC,CAAX,QAAsB,IAAIF,QAAJ,CAAYC,CAAZ,CAAsBC,CAAtB,CAAtB,CAF3C,G","file":"ncFocus.directive.js","sourcesContent":["/**\n * @license\n * Copyright AdRem Software. All Rights Reserved.\n *\n * Use of this source code is governed by an Apache License, Version 2.0 that can be\n * found in the LICENSE file.\n */\n\nimport angular from 'angular';\nimport { directivesModule } from '../common';\n\nconst\n  PRIVATE_PROPERTIES = {\n    timeout: Symbol('timeout'),\n    parse: Symbol('parse')\n  },\n  NC_FOCUS_DI = ['$timeout', '$parse'];\n\nclass NcFocus {\n\n  constructor($timeout, $parse) {\n    this.restrict = 'A';\n    this.scope = false;\n    this[PRIVATE_PROPERTIES.timeout] = $timeout;\n    this[PRIVATE_PROPERTIES.parse] = $parse;\n  }\n\n  link($scope, $element, $attributes) {\n    const\n      self = this,\n      focusMeModel = self[PRIVATE_PROPERTIES.parse]($attributes.ncFocus),\n      focusChild = (($attributes.ncFocusChild != null) &&\n                    ($attributes.ncFocusChild !== '')) ? Number($attributes.ncFocusChild) : null;\n\n    $scope.$watch($attributes.ncFocus, (value) => {\n      if (value === true) {\n        self[PRIVATE_PROPERTIES.timeout](() => {\n          if (Number.isInteger(focusChild)) {\n            $element[0].children[focusChild].focus();\n          } else {\n            $element[0].focus();\n          }\n          focusMeModel.assign($scope, false);\n        }, 0);\n      }\n    });\n  }\n}\n\nangular\n  .module(directivesModule)\n    .directive('ncFocus', [...NC_FOCUS_DI, ($timeout, $parse) => new NcFocus($timeout, $parse)]);\n"]}