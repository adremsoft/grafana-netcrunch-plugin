'use strict';System.register(['angular','../common'],function(_export,_context){'use strict';var angular,imagesURL,directivesModule,_createClass,PRIVATE_PROPERTIES,NC_SPINNER_CONTROLLER_DI,NcSpinnerController,NcSpinner;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}return{setters:[function(_angular){angular=_angular.default},function(_common){imagesURL=_common.imagesURL;directivesModule=_common.directivesModule}],execute:function(){_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();PRIVATE_PROPERTIES={showTimer:Symbol('showTimer'),spinnerState:Symbol('spinnerState'),timeout:Symbol('timeout')};NC_SPINNER_CONTROLLER_DI=['$scope','$timeout'];NcSpinnerController=function(){function NcSpinnerController(a,b){var _this=this;_classCallCheck(this,NcSpinnerController),this[PRIVATE_PROPERTIES.showTimer]=null,this[PRIVATE_PROPERTIES.spinnerState]=!1,this[PRIVATE_PROPERTIES.timeout]=b,a.$watch('ncSpinnerCtrl.spinnerShowTrigger',function(c){c?_this.showSpinner():_this.hideSpinner()})}return _createClass(NcSpinnerController,[{key:'showSpinner',value:function showSpinner(){var _this2=this,a=this[PRIVATE_PROPERTIES.timeout];null===this[PRIVATE_PROPERTIES.showTimer]&&(this[PRIVATE_PROPERTIES.showTimer]=a(function(){_this2[PRIVATE_PROPERTIES.spinnerState]=!0,_this2[PRIVATE_PROPERTIES.showTimer]=null,_this2.spinnerOnChange({state:!0})},this.delay))}},{key:'hideSpinner',value:function hideSpinner(){var a=this[PRIVATE_PROPERTIES.showTimer],b=this[PRIVATE_PROPERTIES.timeout];null!=a&&(b.cancel(a),this[PRIVATE_PROPERTIES.showTimer]=null),this[PRIVATE_PROPERTIES.spinnerState]=!1,this.spinnerOnChange({state:!1})}},{key:'delay',get:function get(){var a=+this.spinnerDelay;return angular.isNumber(a)?a:200}},{key:'spinnerState',get:function get(){return this[PRIVATE_PROPERTIES.spinnerState]}}]),NcSpinnerController}();NcSpinnerController.$inject=NC_SPINNER_CONTROLLER_DI;NcSpinner=function NcSpinner(){_classCallCheck(this,NcSpinner),this.restrict='E',this.scope={spinnerShowTrigger:'<',spinnerDelay:'@',spinnerOnChange:'&'},this.template='\n      <div class="gf-form-label" ng-if="ncSpinnerCtrl.spinnerState">\n        <img src='+imagesURL+'load_big.gif/>\n      </div>\n    ',this.controller=NcSpinnerController,this.controllerAs='ncSpinnerCtrl',this.bindToController=!0};angular.module(directivesModule).directive('ncSpinner',function(){return new NcSpinner})}}});
//# sourceMappingURL=ncSpinner.directive.js.map
