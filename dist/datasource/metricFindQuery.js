'use strict';System.register([],function(_export,_context){'use strict';var _createClass,NetCrunchMetricFindQuery;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}return{setters:[],execute:function(){_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();_export('NetCrunchMetricFindQuery',NetCrunchMetricFindQuery=function(){function NetCrunchMetricFindQuery(a,b){_classCallCheck(this,NetCrunchMetricFindQuery),this.datasource=a,this.query=b}return _createClass(NetCrunchMetricFindQuery,[{key:'nodes',value:function nodes(a){function b(d){return d.map(function(e){var f=null==e.address?'':'('+e.address+')';return{text:e.name+' '+f,value:e.id}})}var c=a.split('.').filter(function(d){return''!==d});return this.datasource.nodes().then(function(d){var e=d.all;return e=1===c.length?d.operations.deviceTypeFilter(e,c[0]):d.operations.deviceTypeFilter(e,c.join('.')),b(e)})}},{key:'process',value:function process(){var a=this.query.match(/^[nN][oO][dD][eE][sS]((\.[\w]+)*)$/);return a?this.nodes(a[1]):Promise.resolve([])}}]),NetCrunchMetricFindQuery}());_export('NetCrunchMetricFindQuery',NetCrunchMetricFindQuery)}}});
//# sourceMappingURL=metricFindQuery.js.map
