'use strict';System.register(['../common'],function(_export,_context){'use strict';var datasourceURL,_createClass,NetCrunchQueryOptionsController;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}return{setters:[function(_common){datasourceURL=_common.datasourceURL}],execute:function(){_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();_export('NetCrunchQueryOptionsController',NetCrunchQueryOptionsController=function(){function NetCrunchQueryOptionsController(){_classCallCheck(this,NetCrunchQueryOptionsController),this.MAX_SAMPLE_COUNT=this.datasource.MAX_SAMPLE_COUNT,this.setDefaults(),this.checkMaxDataPoints()}return _createClass(NetCrunchQueryOptionsController,[{key:'setDefaults',value:function setDefaults(){var _this=this,a={maxDataPoints:this.MAX_SAMPLE_COUNT.DEFAULT,rawData:!1,setMaxDataPoints:!1};null==this.panel.scopedVars?this.panel.scopedVars=a:Object.keys(a).forEach(function(b){null==_this.panel.scopedVars[b]&&(_this.panel.scopedVars[b]=a[b])})}},{key:'checkMaxDataPoints',value:function checkMaxDataPoints(){var a=this.panel.scopedVars;a.maxDataPoints>=this.MAX_SAMPLE_COUNT.MIN&&a.maxDataPoints<=this.MAX_SAMPLE_COUNT.MAX||(a.maxDataPoints=this.MAX_SAMPLE_COUNT.DEFAULT)}},{key:'metricOptionsChange',value:function metricOptionsChange(){this.panelCtrl.refresh()}},{key:'datasource',get:function get(){return this.panelCtrl.datasource}},{key:'panel',get:function get(){return this.panelCtrl.panel}}],[{key:'templateUrl',get:function get(){return datasourceURL+'query/query.options.html'}}]),NetCrunchQueryOptionsController}());_export('NetCrunchQueryOptionsController',NetCrunchQueryOptionsController)}}});
//# sourceMappingURL=queryOptions.controller.js.map
